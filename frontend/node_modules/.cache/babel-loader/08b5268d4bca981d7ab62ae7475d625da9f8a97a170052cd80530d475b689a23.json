{"ast":null,"code":"var _jsxFileName = \"D:\\\\m\\xF4n chi\\u1EC1u th\\u1EE9 2\\\\DACK_CT2\\\\frontend\\\\src\\\\components\\\\pages\\\\Cart\\\\CartPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { createOrder } from \"../../../services/orderService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartPage = ({\n  cartItems,\n  clearCart\n}) => {\n  _s();\n  const [message, setMessage] = useState(\"\");\n  const handleCheckout = async () => {\n    try {\n      const totalPrice = cartItems.reduce((sum, item) => sum + item.price * item.quantity, 0);\n      const orderData = {\n        items: cartItems.map(item => ({\n          productId: item._id,\n          quantity: item.quantity,\n          price: item.price\n        }))\n      };\n      const res = await createOrder(orderData);\n      setMessage(\"‚úÖ ƒê·∫∑t h√†ng th√†nh c√¥ng!\");\n      clearCart(); // Xo√° gi·ªè h√†ng\n    } catch (error) {\n      setMessage(\"‚ùå L·ªói khi ƒë·∫∑t h√†ng: \" + error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDED2 Gi\\u1ECF h\\xE0ng\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this), cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Gi\\u1ECF h\\xE0ng tr\\u1ED1ng\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: cartItems.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [item.name, \" - SL: \", item.quantity, \" - Gi\\xE1: \", item.price, \" VND\"]\n      }, item._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleCheckout,\n      disabled: cartItems.length === 0,\n      children: \"Thanh to\\xE1n\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n};\n_s(CartPage, \"EiOGSxO4GWQlH0sM782nQ9JwuAs=\");\n_c = CartPage;\nexport default CartPage;\nvar _c;\n$RefreshReg$(_c, \"CartPage\");","map":{"version":3,"names":["React","useState","createOrder","jsxDEV","_jsxDEV","CartPage","cartItems","clearCart","_s","message","setMessage","handleCheckout","totalPrice","reduce","sum","item","price","quantity","orderData","items","map","productId","_id","res","error","children","fileName","_jsxFileName","lineNumber","columnNumber","length","name","onClick","disabled","_c","$RefreshReg$"],"sources":["D:/m√¥n chi·ªÅu th·ª© 2/DACK_CT2/frontend/src/components/pages/Cart/CartPage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { createOrder } from \"../../../services/orderService\";\r\n\r\nconst CartPage = ({ cartItems, clearCart }) => {\r\n    const [message, setMessage] = useState(\"\");\r\n\r\n    const handleCheckout = async () => {\r\n        try {\r\n            const totalPrice = cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);\r\n            const orderData = {\r\n                items: cartItems.map(item => ({\r\n                    productId: item._id,\r\n                    quantity: item.quantity,\r\n                    price: item.price\r\n                }))\r\n            };\r\n\r\n            const res = await createOrder(orderData);\r\n            setMessage(\"‚úÖ ƒê·∫∑t h√†ng th√†nh c√¥ng!\");\r\n            clearCart(); // Xo√° gi·ªè h√†ng\r\n        } catch (error) {\r\n            setMessage(\"‚ùå L·ªói khi ƒë·∫∑t h√†ng: \" + error.message);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2>üõí Gi·ªè h√†ng</h2>\r\n            {cartItems.length === 0 ? (\r\n                <p>Gi·ªè h√†ng tr·ªëng</p>\r\n            ) : (\r\n                <ul>\r\n                    {cartItems.map(item => (\r\n                        <li key={item._id}>\r\n                            {item.name} - SL: {item.quantity} - Gi√°: {item.price} VND\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            )}\r\n\r\n            <button onClick={handleCheckout} disabled={cartItems.length === 0}>\r\n                Thanh to√°n\r\n            </button>\r\n\r\n            {message && <p>{message}</p>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CartPage;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,gCAAgC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7D,MAAMC,QAAQ,GAAGA,CAAC;EAAEC,SAAS;EAAEC;AAAU,CAAC,KAAK;EAAAC,EAAA;EAC3C,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAE1C,MAAMU,cAAc,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACA,MAAMC,UAAU,GAAGN,SAAS,CAACO,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAG,GAAIC,IAAI,CAACC,KAAK,GAAGD,IAAI,CAACE,QAAS,EAAE,CAAC,CAAC;MACzF,MAAMC,SAAS,GAAG;QACdC,KAAK,EAAEb,SAAS,CAACc,GAAG,CAACL,IAAI,KAAK;UAC1BM,SAAS,EAAEN,IAAI,CAACO,GAAG;UACnBL,QAAQ,EAAEF,IAAI,CAACE,QAAQ;UACvBD,KAAK,EAAED,IAAI,CAACC;QAChB,CAAC,CAAC;MACN,CAAC;MAED,MAAMO,GAAG,GAAG,MAAMrB,WAAW,CAACgB,SAAS,CAAC;MACxCR,UAAU,CAAC,wBAAwB,CAAC;MACpCH,SAAS,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC,OAAOiB,KAAK,EAAE;MACZd,UAAU,CAAC,sBAAsB,GAAGc,KAAK,CAACf,OAAO,CAAC;IACtD;EACJ,CAAC;EAED,oBACIL,OAAA;IAAAqB,QAAA,gBACIrB,OAAA;MAAAqB,QAAA,EAAI;IAAW;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACnBvB,SAAS,CAACwB,MAAM,KAAK,CAAC,gBACnB1B,OAAA;MAAAqB,QAAA,EAAG;IAAc;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,gBAErBzB,OAAA;MAAAqB,QAAA,EACKnB,SAAS,CAACc,GAAG,CAACL,IAAI,iBACfX,OAAA;QAAAqB,QAAA,GACKV,IAAI,CAACgB,IAAI,EAAC,SAAO,EAAChB,IAAI,CAACE,QAAQ,EAAC,aAAQ,EAACF,IAAI,CAACC,KAAK,EAAC,MACzD;MAAA,GAFSD,IAAI,CAACO,GAAG;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEb,CACP;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CACP,eAEDzB,OAAA;MAAQ4B,OAAO,EAAErB,cAAe;MAACsB,QAAQ,EAAE3B,SAAS,CAACwB,MAAM,KAAK,CAAE;MAAAL,QAAA,EAAC;IAEnE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EAERpB,OAAO,iBAAIL,OAAA;MAAAqB,QAAA,EAAIhB;IAAO;MAAAiB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC3B,CAAC;AAEd,CAAC;AAACrB,EAAA,CA5CIH,QAAQ;AAAA6B,EAAA,GAAR7B,QAAQ;AA8Cd,eAAeA,QAAQ;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}