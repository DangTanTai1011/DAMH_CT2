{"ast":null,"code":"var _jsxFileName = \"D:\\\\m\\xF4n chi\\u1EC1u th\\u1EE9 2\\\\DACK_CT2\\\\frontend\\\\src\\\\components\\\\pages\\\\admin\\\\ProductPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { getProducts, createProduct, deleteProduct } from \"../../services/productService\";\nimport { getBrands } from \"../../services/brandService\";\nimport { getCategories } from \"../../services/categoryService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductPage = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [brands, setBrands] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [newProduct, setNewProduct] = useState({\n    name: \"\",\n    price: \"\",\n    stock: \"\",\n    description: \"\",\n    brand: \"\",\n    category: \"\"\n  });\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const fetchData = async () => {\n    setProducts(await getProducts());\n    setBrands(await getBrands());\n    setCategories(await getCategories());\n  };\n  const handleCreateProduct = async () => {\n    if (!newProduct.name || !newProduct.price || !newProduct.stock || !newProduct.category || !newProduct.brand) {\n      return alert(\"Vui lòng nhập đầy đủ thông tin sản phẩm!\");\n    }\n    try {\n      await createProduct(newProduct);\n      setNewProduct({\n        name: \"\",\n        price: \"\",\n        stock: \"\",\n        description: \"\",\n        brand: \"\",\n        category: \"\"\n      });\n      fetchData();\n    } catch (error) {\n      alert(\"Không thể thêm Product. Kiểm tra log!\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Manage Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Product Name\",\n      value: newProduct.name,\n      onChange: e => setNewProduct({\n        ...newProduct,\n        name: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Price\",\n      value: newProduct.price,\n      onChange: e => setNewProduct({\n        ...newProduct,\n        price: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Stock\",\n      value: newProduct.stock,\n      onChange: e => setNewProduct({\n        ...newProduct,\n        stock: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: newProduct.category,\n      onChange: e => setNewProduct({\n        ...newProduct,\n        category: e.target.value\n      }),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select Category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: category._id,\n        children: category.name\n      }, category._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 45\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: newProduct.brand,\n      onChange: e => setNewProduct({\n        ...newProduct,\n        brand: e.target.value\n      }),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select Brand\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), brands.map(brand => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: brand._id,\n        children: brand.name\n      }, brand._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 38\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleCreateProduct,\n      children: \"Add Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: products.map(product => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [product.name, \" - \", product.price, \" - \", product.stock, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => deleteProduct(product._id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this)]\n      }, product._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductPage, \"3wDlO70/AvcpTlA96mLAg22vxx0=\");\n_c = ProductPage;\nexport default ProductPage;\nvar _c;\n$RefreshReg$(_c, \"ProductPage\");","map":{"version":3,"names":["React","useEffect","useState","getProducts","createProduct","deleteProduct","getBrands","getCategories","jsxDEV","_jsxDEV","ProductPage","_s","products","setProducts","brands","setBrands","categories","setCategories","newProduct","setNewProduct","name","price","stock","description","brand","category","fetchData","handleCreateProduct","alert","error","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","map","_id","onClick","product","_c","$RefreshReg$"],"sources":["D:/môn chiều thứ 2/DACK_CT2/frontend/src/components/pages/admin/ProductPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { getProducts, createProduct, deleteProduct } from \"../../services/productService\";\r\nimport { getBrands } from \"../../services/brandService\";\r\nimport { getCategories } from \"../../services/categoryService\";\r\n\r\nconst ProductPage = () => {\r\n    const [products, setProducts] = useState([]);\r\n    const [brands, setBrands] = useState([]);\r\n    const [categories, setCategories] = useState([]);\r\n    const [newProduct, setNewProduct] = useState({ name: \"\", price: \"\", stock: \"\", description: \"\", brand: \"\", category: \"\" });\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n\r\n    const fetchData = async () => {\r\n        setProducts(await getProducts());\r\n        setBrands(await getBrands());\r\n        setCategories(await getCategories());\r\n    };\r\n\r\n    const handleCreateProduct = async () => {\r\n        if (!newProduct.name || !newProduct.price || !newProduct.stock || !newProduct.category || !newProduct.brand) {\r\n            return alert(\"Vui lòng nhập đầy đủ thông tin sản phẩm!\");\r\n        }\r\n        try {\r\n            await createProduct(newProduct);\r\n            setNewProduct({ name: \"\", price: \"\", stock: \"\", description: \"\", brand: \"\", category: \"\" });\r\n            fetchData();\r\n        } catch (error) {\r\n            alert(\"Không thể thêm Product. Kiểm tra log!\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2>Manage Products</h2>\r\n            <input placeholder=\"Product Name\" value={newProduct.name} onChange={(e) => setNewProduct({ ...newProduct, name: e.target.value })} />\r\n            <input placeholder=\"Price\" value={newProduct.price} onChange={(e) => setNewProduct({ ...newProduct, price: e.target.value })} />\r\n            <input placeholder=\"Stock\" value={newProduct.stock} onChange={(e) => setNewProduct({ ...newProduct, stock: e.target.value })} />\r\n\r\n            <select value={newProduct.category} onChange={(e) => setNewProduct({ ...newProduct, category: e.target.value })}>\r\n                <option value=\"\">Select Category</option>\r\n                {categories.map(category => <option key={category._id} value={category._id}>{category.name}</option>)}\r\n            </select>\r\n\r\n            <select value={newProduct.brand} onChange={(e) => setNewProduct({ ...newProduct, brand: e.target.value })}>\r\n                <option value=\"\">Select Brand</option>\r\n                {brands.map(brand => <option key={brand._id} value={brand._id}>{brand.name}</option>)}\r\n            </select>\r\n\r\n            <button onClick={handleCreateProduct}>Add Product</button>\r\n\r\n            <ul>\r\n                {products.map((product) => (\r\n                    <li key={product._id}>\r\n                        {product.name} - {product.price} - {product.stock}\r\n                        <button onClick={() => deleteProduct(product._id)}>Delete</button>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}